import logoStyles from './Logo.module.css';
import { type Component, onMount } from 'solid-js';
import { gsap } from 'gsap';

const RemindersLogo: Component = () => {
  let svgRef!: SVGSVGElement;

  onMount(() => {
    const lIds = ['l1', 'l2', 'l3'];
    const cIds = ['c1', 'c2', 'c3'];

    const tl = gsap.timeline();

    lIds.forEach(id => {
      const el = svgRef.querySelector(`#${id}`) as SVGGraphicsElement;
      const b = el.getBBox();
      const r = svgRef.querySelector(`#r${id}`) as SVGRectElement;
      r.setAttribute('x', String(b.x));
      r.setAttribute('y', String(b.y));

      if (b.width > 0 && b.height > 0) {
        r.setAttribute('height', String(b.height));
        tl.to(r, { width: b.width, duration: 0.4 }, 0);
      } else {
        r.setAttribute('width', '100%');
        r.setAttribute('height', '100%');
      }
    });

    cIds.forEach((id, i) => {
      const el = svgRef.querySelector(`#${id}`);
      gsap.set(el, { scale: 0, transformOrigin: 'center' });
      tl.to(el, { scale: 1, duration: 0.15 }, `+=0`);
    });
  });

  return (
    <>
      <div class={logoStyles.logo}>
        <svg
          ref={svgRef}
          xmlns="http://www.w3.org/2000/svg"
          width="152"
          height="68"
          viewBox="0 0 152 68"
        >
          <g id="text">
            <path
              class="st0"
              d="M3.23,22.81V7.27c0-1.22-.54-1.91-1.63-2.07v-.66l4.02-1.71c.53.16,1.06.45,1.59.87.53.42.8.8.8,1.14,2.92-1.34,4.59-2.01,5.02-2.01s1.09.41,2.01,1.23c.92.82,1.37,1.56,1.37,2.22v8.43c0,.16-1.45.67-4.34,1.53,1.22,3.1,2.65,5.19,4.3,6.27.74.46,1.5.69,2.27.69v.9c-2.47,1.18-4.03,1.77-4.7,1.77-.88,0-1.98-1.24-3.32-3.72-1.34-2.48-2.06-4.12-2.17-4.92l-.44.09v3.93c0,.74.11,1.27.32,1.59s.65.48,1.31.48v.93l-8.16,2.58-.64-.96c.58,0,1.14-.26,1.67-.78.48-.5.72-1.26.72-2.28ZM9.56,5.71c-.48,0-1,.15-1.55.45v9.75c.69,0,1.46-.17,2.31-.5.85-.33,1.27-.67,1.27-1.04v-6.45c0-1.48-.68-2.22-2.03-2.22Z"
            />
            <path
              class="st0"
              d="M30.18,8.77c.13,0,.46.16,1,.47.53.31,1.06.74,1.59,1.29.53.55.8,1.09.8,1.6v5.04c0,.36-.7.8-2.11,1.32-1.41.52-2.77.94-4.08,1.27s-2.02.5-2.13.5c0,1.54.89,2.49,2.67,2.85.88.16,1.92.24,3.14.24v.87c-4.35,1.1-6.67,1.65-6.97,1.65-.8,0-1.61-.42-2.43-1.27-.82-.85-1.23-1.85-1.23-2.98v-10.08c0-.14,1.51-.63,4.54-1.49,3.02-.85,4.76-1.27,5.21-1.27ZM28.27,12.12c-.35-.39-.78-.58-1.31-.58s-1.11.15-1.75.45v6.93c2.39-.5,3.58-1.58,3.58-3.24v-2.13c0-.56-.17-1.04-.52-1.42Z"
            />
            <path
              class="st0"
              d="M37.35,23.83v-10.17c0-.66-.19-1.23-.56-1.71-.37-.48-.84-.72-1.39-.72v-.66c.19-.02,1.63-.63,4.34-1.83.19.04.41.1.68.17.26.07.62.27,1.05.58s.66.69.66,1.11c.16-.06.61-.25,1.35-.57,1.96-.84,3.18-1.26,3.64-1.26s.98.18,1.55.54c.57.36,1,.79,1.29,1.29.05-.02.6-.23,1.63-.63,2.07-.8,3.32-1.2,3.74-1.2.85,0,1.65.42,2.39,1.26.74.84,1.11,1.61,1.11,2.31v9.09c0,1.1.65,1.75,1.95,1.95v.66l-4.34,1.83c-.58-.18-1.13-.47-1.63-.88-.5-.41-.76-.8-.76-1.16v-8.85c0-1.3-.23-2.16-.68-2.59-.45-.43-1.04-.65-1.75-.65l-1.15.18v9.51c0,1.1.65,1.75,1.95,1.95v.66l-4.34,1.83c-.58-.18-1.13-.47-1.63-.88-.5-.41-.76-.8-.76-1.16v-8.7c0-2.3-.73-3.45-2.19-3.45l-1.39.18v9.57c0,1.22.54,1.91,1.63,2.07v.66l-4.02,1.71c-.58-.18-1.13-.47-1.63-.88-.5-.41-.76-.8-.76-1.16Z"
            />
            <path
              class="st0"
              d="M67.6,10.81v10.62c0,1.22.54,1.91,1.63,2.07v.66l-4.02,1.71c-.58-.18-1.13-.47-1.63-.88-.5-.41-.76-.8-.76-1.16v-10.62c0-1.22-.54-1.91-1.63-2.07v-.66l4.02-1.71c.58.18,1.13.48,1.63.89.5.41.76.79.76,1.15ZM62.22,5.02v-1.83c0-.06.55-.24,1.65-.55,1.1-.31,1.74-.47,1.91-.47s.42.17.76.51c.33.34.5.69.5,1.05v2.19c0,.06-.53.25-1.59.56-1.06.31-1.71.46-1.95.46s-.51-.17-.82-.52c-.31-.35-.46-.81-.46-1.4Z"
            />
            <path
              class="st0"
              d="M71.58,23.83v-10.17c0-.66-.19-1.23-.56-1.71-.37-.48-.84-.72-1.39-.72v-.66c.19-.02,1.63-.63,4.34-1.83.19.04.41.1.68.17.26.07.62.27,1.05.58s.66.69.66,1.11c.16-.06.61-.25,1.35-.57,1.96-.84,3.13-1.26,3.5-1.26.85,0,1.65.42,2.39,1.26.74.84,1.11,1.61,1.11,2.31v9.09c0,1.1.65,1.75,1.95,1.95v.66l-4.34,1.83c-.58-.18-1.13-.47-1.63-.88-.5-.41-.76-.8-.76-1.16v-8.7c0-1.12-.17-1.97-.5-2.56-.33-.59-.92-.88-1.77-.88l-1.31.18v9.57c0,1.22.54,1.91,1.63,2.07v.66l-4.02,1.71c-.58-.18-1.13-.47-1.63-.88-.5-.41-.76-.8-.76-1.16Z"
            />
            <path
              class="st0"
              d="M96.17,2.77c.72,0,1.84,1.31,3.38,3.93,1.54,2.62,2.31,4.43,2.31,5.43v9.15c0,.46.17.91.5,1.35.33.44.8.69,1.41.75v.66c-.19.02-1.63.63-4.34,1.83-.61-.2-1.16-.5-1.65-.88-.49-.39-.74-.75-.74-1.1-2.84,1.32-4.5,1.98-4.98,1.98-.19,0-.54-.15-1.05-.46s-1.04-.76-1.55-1.35c-.52-.59-.78-1.19-.78-1.81v-10.71c0-.2,2.24-.89,6.73-2.07-.96-1.58-1.73-2.69-2.31-3.33-.58-.64-1.15-.96-1.71-.96h-1.31v-.9c2.95-1,4.98-1.5,6.09-1.5ZM95.5,23.11c.5,0,1.02-.16,1.55-.48v-10.44c0-.12-.11-.38-.34-.76-.23-.39-.39-.58-.5-.58-.77,0-1.55.18-2.35.54l-.4.18v9.33c0,1.48.68,2.22,2.03,2.22Z"
            />
            <path
              class="st0"
              d="M115.56,8.77c.13,0,.46.16,1,.47.53.31,1.06.74,1.59,1.29.53.55.8,1.09.8,1.6v5.04c0,.36-.7.8-2.11,1.32-1.41.52-2.77.94-4.08,1.27s-2.02.5-2.13.5c0,1.54.89,2.49,2.67,2.85.88.16,1.92.24,3.14.24v.87c-4.35,1.1-6.67,1.65-6.97,1.65-.8,0-1.61-.42-2.43-1.27-.82-.85-1.23-1.85-1.23-2.98v-10.08c0-.14,1.51-.63,4.54-1.49,3.02-.85,4.76-1.27,5.21-1.27ZM113.65,12.12c-.35-.39-.78-.58-1.31-.58s-1.11.15-1.75.45v6.93c2.39-.5,3.58-1.58,3.58-3.24v-2.13c0-.56-.17-1.04-.52-1.42Z"
            />
            <path
              class="st0"
              d="M120.77,10.57l4.38-1.8c.19.04.4.1.66.17.25.07.6.27,1.03.58.44.32.66.68.66,1.08.13-.04.76-.35,1.89-.94s1.85-.89,2.17-.89c.85,0,1.64.42,2.39,1.26.74.84,1.11,1.61,1.11,2.31v1.47l-4.1,1.74-.68-.42c0-1.68-.21-2.64-.64-2.88-.48-.26-1.19-.39-2.15-.39v9.57c0,1.22.54,1.91,1.63,2.07v.66l-4.02,1.71c-.58-.18-1.13-.47-1.63-.88-.5-.41-.76-.8-.76-1.16v-9.96c0-.88-.21-1.54-.62-1.98-.41-.44-.86-.66-1.33-.66v-.66Z"
            />
            <path
              class="st0"
              d="M139.68,19.3c-.66,0-1.23-.38-1.71-1.14-.48-.76-.72-1.69-.72-2.79v-3.24c0-.38,1.39-1.03,4.18-1.96,2.79-.93,4.39-1.4,4.82-1.4.24,0,.45.1.64.31s.33.38.44.51c.11.13.27.35.5.66.23.31.42.57.58.77.34.48.78.72,1.31.72v.6c-.42.14-.98.35-1.67.63-1.7.7-2.61,1.05-2.75,1.05-.4,0-.83-.49-1.29-1.47s-.88-1.47-1.25-1.47c-.48,0-.72.3-.72.9v3.69c0,.8.24,1.2.72,1.2.11,0,.93-.26,2.47-.78s2.47-.78,2.79-.78c.64,0,1.2.39,1.69,1.16.49.77.74,1.75.74,2.95v3.39c0,.38-1.52,1.04-4.56,1.96-3.04.93-4.78,1.4-5.23,1.4-.19,0-.37-.12-.54-.38-.17-.25-.41-.63-.72-1.15-.31-.52-.6-.96-.9-1.32-.34-.48-.78-.72-1.31-.72v-.6c.42-.14,1-.35,1.71-.63,1.67-.7,2.57-1.05,2.71-1.05.4,0,.9.59,1.49,1.77.6,1.18,1.08,1.77,1.45,1.77.26,0,.52-.08.76-.24.24-.16.36-.38.36-.66v-3.75c0-.9-.33-1.35-1-1.35-.21,0-1.05.24-2.51.72-1.46.48-2.28.72-2.47.72Z"
            />
          </g>
          <clipPath id="clip-l1">
            <rect id="rl1" x="0" y="0" width="0" height="100%" />
          </clipPath>
          <path
            id="l1"
            class="st0"
            clip-path="url(#clip-l1)"
            d="M1.88,36.34h96.12s1.98,4,0,4H1.88s-1.42-4,0-4Z"
          />
          <clipPath id="clip-l2">
            <rect id="rl2" x="0" y="0" width="0" height="100%" />
          </clipPath>
          <path
            id="l2"
            class="st0"
            clip-path="url(#clip-l2)"
            d="M1.88,49.34h96.12s1.98,4,0,4H1.88s-1.42-4,0-4Z"
          />
          <clipPath id="clip-l3">
            <rect id="rl3" x="0" y="0" width="0" height="100%" />
          </clipPath>
          <path
            id="l3"
            class="st0"
            clip-path="url(#clip-l3)"
            d="M1.88,62.34h96.12s1.98,4,0,4H1.88s-1.42-4,0-4Z"
          />
          <circle id="c1" class="st0" cx="111.38" cy="38.34" r="2.5" />
          <circle id="c2" class="st0" cx="111.38" cy="51.34" r="2.5" />
          <circle id="c3" class="st0" cx="111.38" cy="64.34" r="2.5" />
        </svg>
      </div>
    </>
  );
};

export { RemindersLogo };
