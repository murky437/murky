import styles from './NotesLogo.module.css';
import  {type Component, onMount} from 'solid-js';
import { gsap } from "gsap";

const NotesLogo: Component = () => {
  let svgRef!: SVGSVGElement;

  onMount(() => {
    const ids = ["l1","l2","l3","l4","l5"];
    const tl = gsap.timeline();

    ids.forEach((id,i) => {
      const p = svgRef.querySelector(`#${id}`) as SVGGraphicsElement;
      const b = p.getBBox();
      const r = svgRef.querySelector(`#r${i+1}`) as SVGRectElement;
      r.setAttribute("x", String(b.x));
      r.setAttribute("y", String(b.y));

      if (b.width > 0 && b.height > 0) {
        r.setAttribute("height", String(b.height));
        const d = b.width * 0.006;
        tl.to(r, { width: b.width, duration: d })
      } else {
        r.setAttribute("width", "100%");
        r.setAttribute("height", "100%");
      }
    });
  })

  return (
    <>
      <div class={styles.logo}>
        <svg ref={svgRef} xmlns="http://www.w3.org/2000/svg" width="77" height="68" viewBox="0 0 77 68">
          <g id="text">
            <path class="st0" d="M3.23,22.45V7.66c0-.66-.19-1.23-.56-1.71-.37-.48-.84-.72-1.39-.72v-.66c.19-.02,1.63-.63,4.34-1.83.19.04.41.1.68.17.26.07.62.27,1.05.58s.66.69.66,1.11c.16-.06.61-.25,1.35-.57,1.96-.84,3.13-1.26,3.5-1.26.85,0,1.65.42,2.39,1.26.74.84,1.11,1.61,1.11,2.31v15.09c0,1.1.65,1.75,1.95,1.95v.66l-4.34,1.83c-.58-.18-1.13-.47-1.63-.88-.5-.41-.76-.8-.76-1.16v-14.7c0-1.26-.25-2.12-.74-2.58-.49-.46-1.44-.69-2.85-.69v15.39c0,.8.13,1.35.4,1.64.27.29.68.44,1.23.44v.93l-8.16,2.58-.64-.96c.53,0,1.05-.24,1.55-.72.56-.56.84-1.46.84-2.7Z"/>
            <path class="st0" d="M20.35,21.49v-9.96c0-.14,1.51-.63,4.54-1.49,3.02-.85,4.76-1.27,5.21-1.27s1.13.41,2.05,1.23c.92.82,1.37,1.56,1.37,2.22v10.86c0,.16-1.45.67-4.36,1.52s-4.68,1.27-5.33,1.27-1.39-.43-2.23-1.29c-.84-.86-1.25-1.89-1.25-3.09ZM27.16,23.11c.5,0,1.02-.16,1.55-.48v-8.85c0-1.48-.68-2.22-2.03-2.22-.53,0-1.05.15-1.55.45v8.88c0,1.48.68,2.22,2.03,2.22Z"/>
            <path class="st0" d="M42.28,5.65v3.57h2.03l-.4,1.47h-1.63v10.74c0,1.22.54,1.91,1.63,2.07v.66l-4.02,1.71c-.58-.18-1.13-.47-1.63-.88-.5-.41-.76-.8-.76-1.16v-13.11h-1.63l.4-1.26c.8,0,1.76-.4,2.89-1.21,1.13-.81,1.8-1.67,2.01-2.6h1.11Z"/>
            <path class="st0" d="M56.01,8.77c.13,0,.46.16,1,.47.53.31,1.06.74,1.59,1.29.53.55.8,1.09.8,1.6v5.04c0,.36-.7.8-2.11,1.32-1.41.52-2.77.94-4.08,1.27s-2.02.5-2.13.5c0,1.54.89,2.49,2.67,2.85.88.16,1.92.24,3.14.24v.87c-4.35,1.1-6.67,1.65-6.97,1.65-.8,0-1.61-.42-2.43-1.27-.82-.85-1.23-1.85-1.23-2.98v-10.08c0-.14,1.51-.63,4.54-1.49,3.02-.85,4.76-1.27,5.21-1.27ZM54.1,12.12c-.35-.39-.78-.58-1.31-.58s-1.11.15-1.75.45v6.93c2.39-.5,3.58-1.58,3.58-3.24v-2.13c0-.56-.17-1.04-.52-1.42Z"/>
            <path class="st0" d="M65.01,19.3c-.66,0-1.23-.38-1.71-1.14-.48-.76-.72-1.69-.72-2.79v-3.24c0-.38,1.39-1.03,4.18-1.96,2.79-.93,4.39-1.4,4.82-1.4.24,0,.45.1.64.31.19.21.33.38.44.51.11.13.27.35.5.66.23.31.42.57.58.77.34.48.78.72,1.31.72v.6c-.42.14-.98.35-1.67.63-1.7.7-2.61,1.05-2.75,1.05-.4,0-.83-.49-1.29-1.47-.46-.98-.88-1.47-1.25-1.47-.48,0-.72.3-.72.9v3.69c0,.8.24,1.2.72,1.2.11,0,.93-.26,2.47-.78,1.54-.52,2.47-.78,2.79-.78.64,0,1.2.39,1.69,1.16.49.77.74,1.75.74,2.95v3.39c0,.38-1.52,1.04-4.56,1.96-3.04.93-4.78,1.4-5.23,1.4-.19,0-.36-.12-.54-.38-.17-.25-.41-.63-.72-1.15-.31-.52-.6-.96-.9-1.32-.35-.48-.78-.72-1.31-.72v-.6c.42-.14,1-.35,1.71-.63,1.67-.7,2.57-1.05,2.71-1.05.4,0,.9.59,1.49,1.77.6,1.18,1.08,1.77,1.45,1.77.27,0,.52-.08.76-.24.24-.16.36-.38.36-.66v-3.75c0-.9-.33-1.35-1-1.35-.21,0-1.05.24-2.51.72-1.46.48-2.28.72-2.47.72Z"/>
          </g>
          <clipPath id="clip-l1"><rect id="r1" x="0" y="0" width="0" height="100%"/></clipPath>
          <path id="l1" class="st0" clip-path="url(#clip-l1)" d="M1.88,36.34h43.12s1.98,4,0,4H1.88s-1.42-4,0-4Z"/>
          <clipPath id="clip-l2"><rect id="r2" x="0" y="0" width="0" height="100%"/></clipPath>
          <path id="l2" class="st0" clip-path="url(#clip-l2)" d="M50.51,36.34h24.49s1.98,4,0,4h-24.49s-1.42-4,0-4Z"/>
          <clipPath id="clip-l3"><rect id="r3" x="0" y="0" width="0" height="100%"/></clipPath>
          <path id="l3" class="st0" clip-path="url(#clip-l3)" d="M1.88,49.34h27.12s1.98,4,0,4H1.88s-1.42-4,0-4Z"/>
          <clipPath id="clip-l4"><rect id="r4" x="0" y="0" width="0" height="100%"/></clipPath>
          <path id="l4" class="st0" clip-path="url(#clip-l4)" d="M34.51,49.34h40.49s1.98,4,0,4h-40.49s-1.42-4,0-4Z"/>
          <clipPath id="clip-l5"><rect id="r5" x="0" y="0" width="0" height="100%"/></clipPath>
          <path id="l5" class="st0" clip-path="url(#clip-l5)" d="M1.88,62.34h31s1.98,4,0,4H1.88s-1.42-4,0-4Z"/>
        </svg>
      </div>
    </>
  );
};

export { NotesLogo };
